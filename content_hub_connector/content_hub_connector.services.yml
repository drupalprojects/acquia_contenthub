services:
  content_hub_connector.route_subscriber:
    class: Drupal\content_hub_connector\Routing\RouteSubscriber
    tags:
      - { name: event_subscriber }
  content_hub_connector.entity_manager:
    class: Drupal\content_hub_connector\EntityManager.php
  content_hub_connector.client_manager:
    class: Drupal\content_hub_connector\Client\Manager.php
  serializer.normalizer.entity.content_hub_cdf:
    class: Drupal\content_hub_connector\Normalizer\ContentEntityNormalizer
    arguments: ['@rest.link_manager', '@entity.manager', '@module_handler']
    tags:
      - { name: normalizer, priority: 10 }
  serializer.encoder.content_hub_cdf:
    class: Drupal\content_hub_connector\Encoder\JsonEncoder
    tags:
      - { name: encoder, priority: 10, format: content_hub_cdf }
  exception.default_json:
    class: Drupal\content_hub_connector\EventSubscriber\ExceptionContentHubCdfJsonSubscriber
    tags:
      - { name: event_subscriber }
